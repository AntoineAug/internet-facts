function hide_intro(){$("#intro").slideUp(2e3);$.ajax({type:"POST",url:"/ajax/hide_intro.php"});return false}function validateEmail(a){var b=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(!b.test(a)){return false}else{return true}}function validateUsername(a){var b=/^([\w]{4,})?$/;if(!b.test(a)){return false}else{return true}}function edit_fact(a){var b=$(".txt_fact[data-id="+a+"]").text();$(".txt_fact[data-id="+a+"]").html(""+'<form action="/ajax/edit_fact.php" method="post" id="edit_fact">'+'<textarea name="text_fact" id="text_fact">'+b+"</textarea>"+'<input type="hidden" name="id_fact" value="'+a+'"/>'+"<br /><br />"+'<input type="submit" value="Edit this fact"/><br/>'+'<div class="clear"></div>'+"</form>");$("form#edit_fact textarea#text_fact").focus()}function moderate_fact(a,b){$(".footer_fact[data-id="+b+"]").html("<em>Wait...</em>");$.ajax({type:"post",url:"http://internet-facts.com/ajax/moderate_facts.php",data:{id_fact:b,approve:a},success:function(a){var c=$("#nb_facts_moderation").html();var d=$("#txt_fact").html();if(c-1<=1&&d=="Facts"){$("#txt_fact").html("Fact")}$("#nb_facts_moderation").html(c-1);$(".footer_fact[data-id="+b+"]").html(a);$(".post[data-id="+b+"]").delay(1e3).slideUp(500)}});return false}(function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};b.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var e=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||e.compatMode=="BackCompat"?e.body:e.documentElement})};a.fn.scrollTo=function(e,f,g){if(typeof f=="object"){g=f;f=0}if(typeof g=="function")g={onAfter:g};if(e=="max")e=9e9;g=a.extend({},b.defaults,g);f=f||g.speed||g.duration;g.queue=g.queue&&g.axis.length>1;if(g.queue)f/=2;g.offset=c(g.offset);g.over=c(g.over);return this._scrollable().each(function(){function r(a){i.animate(o,f,g.easing,a&&function(){a.call(this,e,g)})}var h=this,i=a(h),l=e,m,o={},q=i.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=c(l);break}l=a(l,this);case"object":if(l.is||l.style)m=(l=a(l)).offset()}a.each(g.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),f="scroll"+d,j=h[f],n=b.max(h,c);if(m){o[f]=m[e]+(q?0:j-i.offset()[e]);if(g.margin){o[f]-=parseInt(l.css("margin"+d))||0;o[f]-=parseInt(l.css("border"+d+"Width"))||0}o[f]+=g.offset[e]||0;if(g.over[e])o[f]+=l[c=="x"?"width":"height"]()*g.over[e]}else{var p=l[e];o[f]=p.slice&&p.slice(-1)=="%"?parseFloat(p)/100*n:p}if(/^\d+$/.test(o[f]))o[f]=o[f]<=0?0:Math.min(o[f],n);if(!a&&g.queue){if(j!=o[f])r(g.onAfterFirst);delete o[f]}});r(g.onAfter)}).end()};b.max=function(b,c){var e=c=="x"?"Width":"Height",f="scroll"+e;if(!a(b).is("html,body"))return b[f]-a(b)[e.toLowerCase()]();var g="client"+e,h=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(h[f],i[f])-Math.min(h[g],i[g])}})(jQuery);(function(a){function d(b,c,d){var e=c.hash.slice(1),f=document.getElementById(e)||document.getElementsByName(e)[0];if(!f)return;if(b)b.preventDefault();var g=a(d.target);if(d.lock&&g.is(":animated")||d.onBefore&&d.onBefore.call(d,b,f,g)===false)return;if(d.stop)g.stop(true);if(d.hash){var h=f.id==e?"id":"name",i=a("<a> </a>").attr(h,e).css({position:"absolute",top:a(window).scrollTop(),left:a(window).scrollLeft()});f[h]="";a("body").prepend(i);location=c.hash;i.remove();f[h]=e}g.scrollTo(f,d).trigger("notify.serialScroll",[f])}var b=location.href.replace(/#.*/,"");var c=a.localScroll=function(b){a("body").localScroll(b)};c.defaults={duration:1e3,axis:"y",event:"click",stop:true,target:window,reset:true};c.hash=function(b){if(location.hash){b=a.extend({},c.defaults,b);b.hash=false;if(b.reset){var e=b.duration;delete b.duration;a(b.target).scrollTo(0,b);b.duration=e}d(0,location,b)}};a.fn.localScroll=function(e){function f(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==b&&(!e.filter||a(this).is(e.filter))}e=a.extend({},c.defaults,e);return e.lazy?this.bind(e.event,function(b){var c=a([b.target,b.target.parentNode]).filter(f)[0];if(c)d(b,c,e)}):this.find("a,area").filter(f).bind(e.event,function(a){d(a,this,e)}).end().end()}})(jQuery);jQuery(function(a){a.localScroll.defaults.axis="xy";a.localScroll.hash({queue:true,duration:3e3});a.localScroll({queue:true,duration:1e3,hash:true,onBefore:function(a,b,c){},onAfter:function(a,b){}})});$(document).ready(function(){$(".hide_bomb").fadeOut(6e3);$("#content, #footer, #social-networks").stop().animate({opacity:"1"},2e3);$(".fade_jquery").hover(function(){$(this).stop().animate({opacity:"1"},"slow")},function(){$(this).stop().animate({opacity:"0.5"},"slow")});$(".error,.success").css("margin-left","-1000px");$(".error,.success").animate({marginLeft:"+=1000px"},2e3,function(){})});$(".hide_this").click(function(){$(this).slideUp(2e3)});$(function(){$(".slidedown").slideDown(1500)});$(document).ready(function(){$("#submit_fact_admin").submit(function(){$("#notification").html("");$("#notification").html('<div class="error">Loading..</div>').slideDown();var a=$("#textarea_text_fact").val();$.post("/ajax/add_fact.php",{text_fact:a,admin:true},function(a){if(a==1){var b='<div class="success">Your Fact has been added successfully!</div>'}else{var b='<div class="error">Your Fact could not be added.</div>'}$("#notification").html(b).delay(3e3).slideUp();$("#textarea_text_fact").val("");$("#textarea_text_fact").focus()});return false})});$(document).ready(function(){$("#form_newsletter").submit(function(){$("#notification").html("");$("#notification").html('<div class="error">Loading..</div>').slideDown();var a=$("#input_email").val();if(validateEmail(a)==false||a.length===0){$("#notification").html('<div class="error">Please enter a valid email address.</div>').delay(3e3).slideUp()}else{$.post("/ajax/newsletter.php",{email:a},function(b){if(b==1){var c='<div class="success">You are now subscribed to the newsletter!</div>'}else if(b==0){var c='<div class="error">Please enter a valid email address.</div>'}else if(b==2){var c='<div class="error">Oops, you are already subscribed to our newsletter with this email address ('+a+").</div>"}$("#notification").html(c).delay(3e3).slideUp()})}$("#input_email").val("").focus();return false})});$("#edit_fact").live("submit",function(a){a.preventDefault();var b=$(this);$.ajax({url:b.attr("action"),type:"POST",data:b.serialize(),success:function(a){if(a>=1){moderate_fact("yes",a)}else{alert("An error occured.")}}})});$(document).ready(function(){$("#submit_fact_user").submit(function(){$("#notification").html("");$("#notification").html('<div class="error">Loading..</div>').slideDown();var a=$("#username").val().toLowerCase();var b=$("#email").val();var c=$("#textarea_text_fact").val();if(validateUsername(a)==false||a.length===0){$("#notification").html('<div class="error">Please enter a valid username.</div>').delay(3e3).slideUp();$("#username").val("").focus()}else{if(validateEmail(b)==false||b.length===0){$("#notification").html('<div class="error">Please enter a valid email address.</div>').delay(3e3).slideUp();$("#email").val("").focus()}else{if(c.length<50){var d=50-c.length;var e="characters";if(d==1){e="character"}$("#notification").html('<div class="error">Your Fact is too short! It should be at least 50 characters ('+d+" "+e+" left).</div>").delay(3e3).slideUp();$("#textarea_text_fact").focus()}else{$.post("/ajax/add_fact.php",{text_fact:c,username:a,email:b,is_visitor:true},function(a){if(a==1){var b='<div class="success">Your Fact has been added successfully!</div>';$("#textarea_text_fact").val("").focus()}else if(a==0){var b='<div class="error">The form is not filled correctly.</div>'}else if(a==2){var b='<div class="error">This email is not associated with the current username.</div>';$("#email").val("").focus()}else if(a==3){var b='<div class="error">You\'ve added too much Facts for today! Come back tomorrow.</div>'}$("#notification").html(b).delay(3e3).slideUp()})}}}return false})})